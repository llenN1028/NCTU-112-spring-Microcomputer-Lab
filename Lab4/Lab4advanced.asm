ORG 0000H
AJMP START
ORG 0050H

TABLE:
	DB 0C0H  ;0
	DB 0F9H 
	DB 0A4H 
	DB 0B0H 
	DB 099H 
	DB 092H 
	DB 082H 
	DB 0F8H 
	DB 080H 
	DB 098H  ;9
START:
	MOV R4, #11111101B
	MOV DPTR, #TABLE
	MOV R0, #0
	MOV R1, #5
	AJMP  OUTPUT
MAIN:
	MOV R4, #11111101B
	MOV DPTR, #TABLE
	MOV R0, #1
	MOV R1, #0
OUTPUT:
	MOV R7, #75
OUTPUT1: ;161040 cycle
	MOV A, R1
	MOVC A, @A+DPTR
	MOV P1, A
	MOV A, R4
	MOV P0, A
	INC R4
	ACALL DELAY
	MOV P0, #0FFH

	MOV A, R0
	MOVC A, @A+DPTR
	MOV P1, A
	MOV A, R4
	MOV P0, A
	DEC R4
	ACALL DELAY
	MOV P0, #0FFH
	
	DJNZ R7, OUTPUT1
COUNT:
	INC R0
	CJNE R0, #10, OUTPUT
	
	MOV R0, #0
	INC R1
	CJNE R1, #6	, OUTPUT

OUTPUT2:
	MOV R7, #75	 ;75*161015	 
OUTPUT3:		;161015 cycle	
    MOV P1, #82H
	MOV P0, #0FDH
	ACALL DELAY
	MOV P1, #0C0H
	MOV P0, #0FEH 
	ACALL DELAY
	MOV P0, #0FFH
	
	DJNZ R7, OUTPUT7
	AJMP MAIN

DELAY:	   ;80500cycle
	MOV R2, #100
DELAY1:
	MOV R3, #200
DELAY2:
	DJNZ R3, DELAY2
	DJNZ R2, DELAY1
	RET
	

	








