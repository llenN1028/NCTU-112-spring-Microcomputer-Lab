	ORG 0000H
	JMP START
	ORG 0050H
TABLE:			
		DB	01110B
		DB	01110B
		DB	10100B
		DB	01110B
		DB	00101B
		DB	01010B
		DB	10001B
		DB  10001B
	
		DB	01110B	
		DB	01110B
		DB	00100B
		DB	01110B
		DB	00100B
		DB	01010B
		DB	01010B
		DB  01010B		
		
		DB	01110B	
		DB	01110B
		DB	00101B
		DB	01110B
		DB	10100B
		DB	01010B
		DB	10001B
		DB  10001B
	
		DB	01110B	
		DB	01110B
		DB	00100B
		DB	01110B
		DB	00100B
		DB	01010B
		DB	01010B
		DB  01010B
SETCG:				
	MOV	DPTR, #TABLE	
	MOV	R4, #33			
NEXT:		
	CLR	A		
	MOVC A,@A+DPTR	
	CALL STORE
	INC	DPTR				
	DJNZ R4, NEXT
	RET
START:
	MOV	R0, #00000010B
	MOV	A, #00111011B
	CALL COMMAND	
	MOV	A, #00001110B
	CALL COMMAND
	MOV	A, #00001100B
	CALL COMMAND
	MOV	A, #00000001B	
	CALL COMMAND			
	MOV	A, #01000000B	;CG RAM
	CALL COMMAND
	ACALL SETCG
	MOV	A, #10000000B	;DD RAM
	CALL COMMAND
	MOV	A, #00001110B
	CALL COMMAND
LOOP:	
	MOV	A,#00000000B	
	CALL DISPLAY
	MOV	R5, #100
	CALL DELAY
	MOV	R5, #100		
	CALL DELAY
	MOV	A, R0			
	CALL COMMAND
	
	MOV	A, #00000001B
	CALL DISPLAY
	MOV	R5, #10
	CALL DELAY
	MOV	R5, #10		
	CALL DELAY
	MOV	A, R0		
	CALL COMMAND
	
	MOV	A, #00000010B	
	CALL DISPLAY
	MOV	R5, #10
	CALL DELAY
	MOV	R5, #10		
	CALL DELAY
	MOV	A, R0			
	CALL COMMAND
	
	MOV	A, #00000011B	
	CALL DISPLAY
	MOV	R5, #10
	CALL DELAY
	MOV	R5, #10		
	CALL DELAY
	MOV	A, R0		
	CALL COMMAND
	JMP	LOOP
COMMAND:
	MOV	P3,#00000100B
	MOV	P0, A
	MOV R5, #250
	CALL DELAY
	MOV	P3,#00000000B
	MOV	R5,#250
	CALL DELAY		
	RET
STORE:		
	MOV	P0,A			
	MOV	P3,#00000101B	;E=1메R/W=0메RS=1
	MOV R5, #250
	CALL	DELAY
	MOV	P3,#00000001B	;E=0메R/W=0메RS=1		
	MOV R5, #250
	CALL DELAY
	RET
DISPLAY:		
	MOV	P0,A			
	MOV	P3,#00000101B	;E=1메R/W=0 RS=1
	MOV R5, #250
	CALL	DELAY
	MOV	P3,#00000001B	;E=0메R/W=0메RS=1
	MOV	R5,#250			
	RET
DELAY:
	MOV	R6,#20
DELAY1:
	MOV	R7,#100
DELAY2:
	DJNZ	R7,DELAY2
	DJNZ	R6,DELAY1
	DJNZ	R5,DELAY
	RET
	END

