	ORG 0000H
	JMP START
	ORG 0050H
START:					
	MOV DPTR,#TABLE		
	MOV R5,#250				
	CALL  DELAY			
	MOV A,#00111011B ;8-bits, 2row display, 5x7									
	CALL COMMAND			
	MOV A,#00001110B ;DDRAM display , cursor display, cursor not blink		
	CALL COMMAND
	MOV A,#00000001B ;clear RAM		
	CALL COMMAND
	MOV R5,#0FFH			
	CALL DELAY
	MOV A,#10000000B;set RAM address	
	CALL COMMAND
LOOP:			
	CLR A
	MOVC A,@A+DPTR			
	JZ ENDDISPLAY			 	
	CALL DISPLAY		
	INC DPTR				
	JMP LOOP
ENDDISPLAY:
	JMP $
COMMAND:	      
	MOV P0,A			
	MOV P3,#00000100B	;E=1¡AR/W=0¡ARS=0
	CALL DELAY			
	MOV P3,#00000000B	;E =0¡AR/W=0¡ARS=0
	MOV R5,#250			
	CALL DELAY
	RET
DISPLAY:		
	MOV P0,A			
	MOV P3,#00000101B	;E=1¡AR/W=0¡ARS=1
	CALL DELAY
	MOV P3,#00000001B	;E=0¡AR/W=0¡ARS=1
	MOV R5,#250			
	MOV R4,#25
LONGDELAY:
	CALL DELAY
	DJNZ R4,LONGDELAY
	RET
DELAY:
	MOV R6,#5
DELAY1:
	MOV R7,#5
DELAY2:
	DJNZ R7,DELAY2
	DJNZ R6,DELAY1
	DJNZ R5,DELAY
	RET
TABLE:
	DB "CHOOSE A MODE!",0			
	END
